import{d as y,e as M,r as N,B as $,C as x,F as d,aM as i,aH as o,aG as s,aL as g,u as b,aV as q,b3 as U,b4 as R,b5 as W,b6 as z,aW as D,b7 as E,b8 as G}from"./arco.873a837e.js";import{u as H,a as Q,I as T,b as j,_ as I}from"./index.360cf7cd.js";/* empty css              *//* empty css              *//* empty css               */import{f as A,g as J}from"./vue.6325bc75.js";import{u as K}from"./loading.6dc87279.js";import"./chart.2547f6b7.js";const O={class:"login-form-wrapper"},X={class:"login-form-title"},Y={class:"login-form-error-msg"},Z={class:"login-form-password-actions"},ee=y({__name:"login-form",setup(V){const c=A(),{t:f}=H(),v=M(""),{loading:h,setLoading:w}=K(),k=Q(),a=J("login-config",{rememberPassword:!0,username:"admin",password:"admin"}),n=N({username:a.value.username,password:a.value.password}),P=async({errors:e,values:r})=>{if(!h.value&&!e){w(!0);try{await k.login(r);const{redirect:t,...m}=c.currentRoute.value.query;await c.push({name:t||"Workplace",query:{...m}}),q.success(f("login.form.login.success"));const{rememberPassword:l}=a.value,{username:u,password:_}=r;a.value.username=l?u:"",a.value.password=l?_:""}catch(t){v.value=t.message}finally{w(!1)}}},C=e=>{a.value.rememberPassword=e};return(e,r)=>{const t=T,m=U,l=R,u=j,_=W,S=z,F=D,B=E,L=G;return $(),x("div",O,[d("div",X,i(e.$t("login.form.title")),1),d("div",Y,i(v.value),1),o(L,{ref:"loginForm",model:n,class:"login-form",layout:"vertical",onSubmit:P},{default:s(()=>[o(l,{field:"username",rules:[{required:!0,message:e.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[o(m,{modelValue:n.username,"onUpdate:modelValue":r[0]||(r[0]=p=>n.username=p),placeholder:e.$t("login.form.userName.placeholder")},{prefix:s(()=>[o(t)]),default:s(()=>[g("3 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),o(l,{field:"password",rules:[{required:!0,message:e.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[o(_,{modelValue:n.password,"onUpdate:modelValue":r[1]||(r[1]=p=>n.password=p),placeholder:e.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:s(()=>[o(u)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),o(B,{size:16,direction:"vertical"},{default:s(()=>[d("div",Z,[o(S,{checked:"rememberPassword","model-value":b(a).rememberPassword,onChange:C},{default:s(()=>[g(i(e.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value","onChange"])]),o(F,{type:"primary","html-type":"submit",long:"",loading:b(h)},{default:s(()=>[g(i(e.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}});const oe=I(ee,[["__scopeId","data-v-0c0d5835"]]),se={class:"container"},ae={class:"content"},re={class:"content-inner"},ne=y({__name:"index",setup(V){return(c,f)=>($(),x("div",se,[d("div",ae,[d("div",re,[o(oe)])])]))}});const pe=I(ne,[["__scopeId","data-v-d3ad547c"]]);export{pe as default};
